{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Hoja de Vida{% endblock %}</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        /* Variables */
        :root {
            --primary-color: #5A7D84;    
            --secondary-color: #BBD2D6;  
            --bg-color: rgb(236, 250, 252);
            --icon-color: #5A7D84;
            --gradient-start: #5A7D84;
            --gradient-end: #1a1a1a;
        }

        body { 
            font-family: 'Outfit', sans-serif; 
            background-color: var(--bg-color); 
            color: #1a1a1a; 
            margin: 0; 
            font-size: 115%; 
            transition: background-color 0.5s ease; 
        }
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.05); border-radius: 10px; }

        .glass-nav {
            background: rgba(187, 210, 214, 0.98); 
            backdrop-filter: blur(25px);
            border-right: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* Overrides */
        .text-\[\#5A7D84\] { color: var(--primary-color) !important; }
        .bg-\[\#5A7D84\] { background-color: var(--primary-color) !important; }
        .hover\:bg-\[\#5A7D84\]:hover { background-color: var(--primary-color) !important; }
        .hover\:text-\[\#5A7D84\]:hover { color: var(--primary-color) !important; }
        .border-\[\#5A7D84\] { border-color: var(--primary-color) !important; }
        .hover\:border-\[\#5A7D84\]:hover { border-color: var(--primary-color) !important; }
        .bg-\[\#BBD2D6\] { background-color: var(--secondary-color) !important; }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--gradient-start), var(--gradient-end)) !important; }

        /* Iconos */
        body:not(.rgb-icons) svg.lucide { stroke: var(--icon-color) !important; transition: all 0.3s ease; }
        body:not(.rgb-icons) button:hover svg.lucide,
        body:not(.rgb-icons) a:hover svg.lucide,
        body:not(.rgb-icons) .group:hover svg.lucide,
        body:not(.rgb-icons) .text-white svg.lucide { stroke: currentColor !important; }

        @keyframes rainbow-stroke { 0% { stroke: #ff0000; } 20% { stroke: #ffff00; } 40% { stroke: #00ff00; } 60% { stroke: #00ffff; } 80% { stroke: #0000ff; } 100% { stroke: #ff00ff; } }
        body.rgb-icons svg.lucide { animation: rainbow-stroke 2s linear infinite !important; stroke: #ff0000; }

        /* T√≠tulos RGB y Admin */
        @keyframes rainbow-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        body.rgb-titles h1, body.rgb-titles h2, body.rgb-titles .text-transparent, .rainbow-text {
            background-image: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000) !important;
            background-size: 300% !important;
            animation: rainbow-flow 3s linear infinite !important;
            -webkit-text-fill-color: transparent !important;
            -webkit-background-clip: text !important;
            color: transparent !important;
        }

        /* Bordes Ne√≥n */
        @keyframes neon-border {
            0% { border-color: #ff0000; box-shadow: 0 0 5px #ff0000; } 50% { border-color: #00ffff; box-shadow: 0 0 5px #00ffff; } 100% { border-color: #ff0000; box-shadow: 0 0 5px #ff0000; }
        }
        body.rgb-borders article, body.rgb-borders .bg-white.rounded-\[3\.5rem\], body.rgb-borders .bg-white.rounded-\[2\.5rem\] {
            border: 2px solid transparent !important; animation: neon-border 3s linear infinite;
        }

        /* =========================================
           20 ESTILOS DE MARCO (CSS PURO)
           ========================================= */
        
        @keyframes spin-cw { to { transform: rotate(360deg); } }
        @keyframes spin-ccw { to { transform: rotate(-360deg); } }
        @keyframes pulse-gen { 50% { transform: scale(1.05); filter: brightness(1.2); } }
        @keyframes flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        @keyframes glitch-skew { 0% { transform: skewX(0deg); } 20% { transform: skewX(-5deg); } 40% { transform: skewX(5deg); } 60% { transform: skewX(-2deg); } 80% { transform: skewX(2deg); } 100% { transform: skewX(0deg); } }

        /* Clase Base del Marco */
        @keyframes rgb-cycle {
            0% { filter: hue-rotate(0deg) contrast(1.2) brightness(1.2); }
            100% { filter: hue-rotate(360deg) contrast(1.2) brightness(1.2); }
        }

        /* Clase Base del Marco */
        .frame-layer {
            position: absolute; inset: 0; z-index: 0;
            border-radius: 50% !important;
            background: var(--secondary-color);
            transition: all 0.5s ease;
        }
        
        /* Aplica esto si la clase se pone en el contenedor padre */
        .photo-rgb-active #active-frame {
            animation: rgb-cycle 2s linear infinite, spin-cw 3s linear infinite !important; 
            /* Combinamos rgb-cycle con rotaci√≥n para un efecto m√°ximo */
            filter: hue-rotate(0deg); /* Reset para que la animaci√≥n tome control */
        }

        /* --- ESTILOS 1-10 (Cl√°sicos) --- */
        .frame-style-1 { background: conic-gradient(var(--primary-color), transparent, var(--primary-color)); animation: spin-cw 3s linear infinite; }
        .frame-style-2 { border: 4px dashed var(--primary-color); background: transparent; animation: spin-cw 10s linear infinite; }
        .frame-style-3 { background: linear-gradient(45deg, red, blue); animation: spin-cw 2s linear infinite; filter: blur(4px); }
        .frame-style-4 { background: radial-gradient(circle, transparent 60%, var(--primary-color) 60%); animation: pulse-gen 2s infinite; }
        .frame-style-5 { border: 3px dotted var(--icon-color); background: transparent; animation: spin-ccw 5s linear infinite; }
        .frame-style-6 { background: conic-gradient(from 0deg, red, orange, yellow, green, blue, purple, red); animation: spin-cw 2s linear infinite; }
        .frame-style-7 { border: 2px solid white; box-shadow: 0 0 10px white; background: transparent; animation: flicker 1s infinite; }
        .frame-style-8 { background: conic-gradient(black, white, black); animation: spin-cw 1s linear infinite; opacity: 0.5; }
        .frame-style-9 { border: 5px double var(--primary-color); background: transparent; animation: spin-cw 5s linear infinite reverse; }
        .frame-style-10 { background: repeating-conic-gradient(var(--primary-color) 0% 5%, transparent 5% 10%); animation: spin-cw 8s linear infinite; }

        /* --- ESTILOS 11-20 (Inspirados en GIFs) --- */
        .frame-style-11 { /* Pyre */ background: conic-gradient(from 180deg, #550000, #ff0000, #ffcc00, #ff0000, #550000); filter: blur(3px) contrast(1.5); animation: spin-cw 2s linear infinite, flicker 0.1s infinite alternate; box-shadow: 0 0 15px #ff0000; }
        .frame-style-12 { /* Neon Cyberpunk */ background: transparent; box-shadow: 0 0 5px #00f3ff, inset 0 0 5px #ff00ff; border: 2px solid rgba(255,255,255,0.5); animation: spin-cw 4s linear infinite, pulse-gen 2s infinite alternate; }
        .frame-style-13 { /* Arcane */ background: transparent; border: 4px dashed #8a2be2; box-shadow: 0 0 10px #8a2be2; animation: spin-ccw 6s linear infinite; }
        .frame-style-14 { /* Energy */ background: radial-gradient(transparent 65%, #00ff88 70%, transparent 75%); animation: spin-cw 1s linear infinite; filter: brightness(1.5); }
        .frame-style-15 { /* Glitch RGB */ background: transparent; border: 3px solid white; box-shadow: -3px 0 red, 3px 0 blue; animation: glitch-skew 0.5s steps(3) infinite; }
        .frame-style-16 { /* Gold */ background: conic-gradient(from 45deg, #ffd700, #daa520, #ffd700, transparent, #ffd700); filter: contrast(1.2); animation: spin-cw 10s linear infinite; }
        .frame-style-17 { /* Void */ background: conic-gradient(black, #330066, black, #4b0082, black); box-shadow: 0 0 20px #330066; animation: spin-cw 3s linear infinite reverse; }
        .frame-style-18 { /* Lightning */ background: transparent; border: 2px solid #ffffff; box-shadow: 0 0 10px #00aaff, inset 0 0 10px #00aaff; animation: flicker 0.05s infinite alternate; }
        .frame-style-19 { /* Toxic */ background: conic-gradient(transparent, #00ff00, #adff2f, #00ff00, transparent); filter: blur(2px); animation: spin-cw 4s linear infinite; }
        .frame-style-20 { /* Nebula */ background: conic-gradient(from 90deg, #ff00ff, #00ffff, #0000ff, #ff00ff); filter: blur(4px); animation: spin-ccw 5s linear infinite; }

        .hamburger-btn { transition: all 0.3s; }
        .sidebar-closed { transform: translateX(-100%); }
        .sidebar-open { transform: translateX(0%); }
    </style>
</head>
<body class="min-h-screen overflow-x-hidden relative">

    <canvas id="particle-canvas" class="fixed inset-0 pointer-events-none z-0 opacity-60"></canvas>

    <button id="hamburger-btn" onclick="toggleSidebar()" class="hamburger-btn fixed top-6 left-6 z-[120] p-4 rounded-2xl text-gray-700 focus:outline-none group bg-white/50 backdrop-blur-md shadow-lg border border-white/40">
        <i data-lucide="menu" size="28" class="group-hover:text-[#5A7D84] transition-colors"></i>
    </button>

    <div id="menu-overlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-[90] hidden opacity-0 transition-opacity duration-500"></div>

    <aside id="main-sidebar" class="fixed left-0 top-0 bottom-0 w-80 glass-nav flex flex-col items-center py-8 z-[100] transition-transform duration-500 shadow-2xl sidebar-closed">
        
        <div class="h-16 w-full mb-4 flex items-center justify-between px-6">
            <div></div>
            <span class="text-[10px] font-black text-gray-500 uppercase tracking-widest cursor-pointer hover:text-[#5A7D84] transition-colors p-2" onclick="toggleSidebar()">
                <span class="border-b border-gray-400 pb-0.5">Cerrar</span>
            </span>
        </div>

        <div class="mb-10 flex flex-col items-center w-full shrink-0 animate-in fade-in slide-in-from-top-4 duration-700">
            <div class="mb-6 relative group cursor-pointer z-50">
                
                <div id="photo-container" class="w-36 h-36 flex items-center justify-center relative">
                    
                    <div id="active-frame" class="frame-layer"></div>
                    
                    <div class="relative z-10 w-28 h-28 rounded-full overflow-hidden border-[6px] border-[#ecfafc] shadow-lg bg-white">
                        {% if perfil.foto %}
                            <img src="{{ perfil.foto.url }}" alt="Foto" class="w-full h-full object-cover rounded-full">
                        {% else %}
                            <div class="w-full h-full bg-[#1a1a1a] flex items-center justify-center text-white font-black text-4xl rounded-full">
                                {{ perfil.nombres|first|default:"U" }}
                            </div>
                        {% endif %}
                    </div>
                </div>

            </div>

            <div class="text-center px-6">
                <p class="font-black text-xl sm:text-2xl md:text-3xl tracking-tighter text-gray-800 uppercase leading-none transition-all duration-300">
                    {% if perfil %}{{ perfil.nombres }}<br>{{ perfil.apellidos }}{% else %}Usuario<br>Demo{% endif %}
                </p>
                <div class="h-1 w-12 bg-gray-800 mx-auto mt-4 rounded-full"></div>
            </div>
        </div>

        <ul id="nav-list" class="w-full space-y-4 flex-grow overflow-y-auto custom-scrollbar px-8 scroll-smooth flex flex-col py-4">
            {% with request.resolver_match.url_name as url_name %}
            <li><a href="{% url 'inicio' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'inicio' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Inicio</span></a></li>
            <li><a href="{% url 'experiencia' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'experiencia' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Experiencia</span></a></li>
            <li><a href="{% url 'educacion' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'educacion' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Educaci√≥n</span></a></li>
            <li><a href="{% url 'cursos' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'cursos' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Cursos</span></a></li>
            <li><a href="{% url 'reconocimientos' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'reconocimientos' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Logros</span></a></li>
            <li><a href="{% url 'trabajos' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'trabajos' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Trabajos</span></a></li>
            <li><a href="{% url 'venta' %}" class="flex items-center justify-center h-12 rounded-xl transition-all duration-300 {% if url_name == 'venta' %}text-gray-900 font-black scale-110{% else %}text-gray-500 hover:text-[#5A7D84] hover:scale-105{% endif %}"><span class="font-bold text-sm uppercase tracking-[0.2em]">Venta</span></a></li>
            {% endwith %}
        </ul>
        
        <div class="mt-auto pt-6 border-t border-gray-400/20 w-full px-8 text-center">
            <a id="admin-link" href="/admin/" class="text-gray-400 hover:text-gray-800 text-[10px] font-bold uppercase tracking-widest transition-all duration-300">Admin</a>
            <p class="text-[9px] font-black text-gray-400 uppercase tracking-tighter italic mt-2">¬© 2026</p>
        </div>
    </aside>

    <main class="min-h-screen flex flex-col justify-center pl-0 md:pl-0 py-12 relative z-10 transition-all duration-500 w-full">
        {% block content %}{% endblock %}
    </main>

    {% include 'curriculum/settings.html' %}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') lucide.createIcons();
        });

        function toggleSidebar() {
            const sidebar = document.getElementById('main-sidebar');
            const overlay = document.getElementById('menu-overlay');
            const hamBtn = document.getElementById('hamburger-btn');
            
            if (sidebar.classList.contains('sidebar-closed')) {
                sidebar.classList.remove('sidebar-closed'); sidebar.classList.add('sidebar-open');
                overlay.classList.remove('hidden'); setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                hamBtn.classList.add('opacity-0', 'scale-0', 'pointer-events-none');
            } else {
                sidebar.classList.remove('sidebar-open'); sidebar.classList.add('sidebar-closed');
                overlay.classList.add('opacity-0'); setTimeout(() => overlay.classList.add('hidden'), 500);
                hamBtn.classList.remove('opacity-0', 'scale-0', 'pointer-events-none');
            }
        }
    </script>

    <script>
    // --- SCRIPT DE PART√çCULAS INTERACTIVO ---
    document.addEventListener('DOMContentLoaded', function() {
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        
        let particlesArray = [];
        let particleShape = 'circle'; 
        let particleRGB = false;
        let speedMult = 1;
        let sizeMult = 1;
        
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', () => { resizeCanvas(); initParticles(); });
        resizeCanvas();

        // --- FUNCIONES GLOBALES CONECTADAS A SETTINGS ---
        window.setParticleShape = (shape) => { particleShape = shape; initParticles(); };
        
        // NUEVO: Funci√≥n expl√≠cita para forzar el estado RGB desde settings
        window.setParticleRGB = (isRGB) => { particleRGB = isRGB; }; 
        
        window.toggleParticleRGB = () => { particleRGB = !particleRGB; };
        
        window.updateParticleSettings = () => {
            const speedInput = document.getElementById('particleSpeed');
            const sizeInput = document.getElementById('particleSize');
            if(speedInput) speedMult = parseFloat(speedInput.value);
            if(sizeInput) sizeMult = parseFloat(sizeInput.value);
        };
        
        window.initParticles = () => {
            const countInput = document.getElementById('particleCount');
            // Si el input no existe a√∫n, usa un default seguro
            const count = countInput ? parseInt(countInput.value) : 50;
            particlesArray = [];
            for (let i = 0; i < count; i++) {
                particlesArray.push(new Particle());
            }
        };

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 4 + 1;
                this.speedX = (Math.random() * 0.4 - 0.2);
                this.speedY = (Math.random() * 0.4 - 0.2);
                this.hue = Math.random() * 360; 
                this.char = Math.random() > 0.5 ? '1' : '0'; 
            }
            update() {
                this.x += this.speedX * speedMult;
                this.y += this.speedY * speedMult;
                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0;
                if (this.y < 0) this.y = canvas.height;
                if(particleRGB) this.hue += 2;
            }
            draw() {
                if (particleRGB) {
                    ctx.fillStyle = `hsl(${this.hue}, 100%, 50%)`;
                } else {
                    // Obtener color actual din√°micamente por si cambi√≥ el tema
                    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--secondary-color').trim();
                }

                ctx.beginPath();
                let s = this.size * sizeMult; 

                switch(particleShape) {
                    case 'circle': ctx.arc(this.x, this.y, s, 0, Math.PI * 2); ctx.fill(); break;
                    case 'square': ctx.fillRect(this.x, this.y, s * 2, s * 2); break;
                    case 'triangle': ctx.moveTo(this.x, this.y); ctx.lineTo(this.x + s, this.y + s * 2); ctx.lineTo(this.x - s, this.y + s * 2); ctx.fill(); break;
                    case 'diamond': ctx.moveTo(this.x, this.y - s); ctx.lineTo(this.x + s, this.y); ctx.lineTo(this.x, this.y + s); ctx.lineTo(this.x - s, this.y); ctx.fill(); break;
                    case 'cross': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚úö', this.x, this.y); break;
                    case 'pentagon': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚¨ü', this.x, this.y); break;
                    case 'hexagon': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚¨¢', this.x, this.y); break;
                    case 'star': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚òÖ', this.x, this.y); break;
                    case 'ring': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚óé', this.x, this.y); break;
                    case 'infinity': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚àû', this.x, this.y); break;
                    case 'heart': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚ù§', this.x, this.y); break;
                    case 'leaf': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('üçÉ', this.x, this.y); break;
                    case 'fire': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('üî•', this.x, this.y); break;
                    case 'snow': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚ùÑ', this.x, this.y); break;
                    case 'bolt': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚ö°', this.x, this.y); break;
                    case 'code': ctx.font = `${s * 3}px monospace`; ctx.fillText(this.char, this.x, this.y); break;
                    case 'brackets': ctx.font = `${s * 3}px monospace`; ctx.fillText('{ }', this.x, this.y); break;
                    case 'pacman': ctx.beginPath(); ctx.arc(this.x, this.y, s, 0.2 * Math.PI, 1.8 * Math.PI); ctx.lineTo(this.x, this.y); ctx.fill(); break;
                    case 'ghost': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('üëª', this.x, this.y); break;
                    case 'music': ctx.font = `${s * 3}px sans-serif`; ctx.fillText('‚ô´', this.x, this.y); break;
                    default: ctx.arc(this.x, this.y, s, 0, Math.PI * 2); ctx.fill();
                }
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
                particlesArray[i].draw();
            }
            requestAnimationFrame(animate);
        }

        initParticles();
        animate();
    });
    
    // --- GESTI√ìN DE MARCOS Y ANIMACIONES ---
    window.updateFrameState = function() {
        const switchEl = document.getElementById('frameRgbSwitch');
        // Si el switch no existe (a√∫n no carg√≥ settings), asumimos false
        const isRgbActive = switchEl ? switchEl.checked : false;
        
        const frame = document.getElementById('active-frame');
        const adminLink = document.getElementById('admin-link');
        
        if(!frame) return; 

        // 1. Limpiar clases previas
        for(let i=1; i<=20; i++) {
            frame.classList.remove('frame-style-' + i);
        }
        
        // 2. Aplicar estilo seleccionado
        if (typeof currentFrameStyle !== 'undefined' && currentFrameStyle > 0) {
            frame.classList.add('frame-style-' + currentFrameStyle);
        } else {
            frame.classList.add('frame-style-1'); 
        }
        
        // 3. APLICAR MODO RGB
        // Quitamos la clase primero para asegurar que se reinicie si es necesario
        frame.classList.remove('photo-rgb-active'); 
        
        if(isRgbActive) {
            // Agregamos la clase al contenedor padre del frame (.frame-layer est√° dentro o es el div)
            // NOTA: En tu HTML el id="active-frame" TIENE la clase .frame-layer.
            // Por tanto, aplicamos una clase padre o modificamos el selector CSS.
            // Para que funcione con el CSS de arriba (.photo-rgb-active .frame-layer),
            // necesitamos poner la clase .photo-rgb-active en el PADRE del frame layer
            // O modificar el CSS para que sea .frame-layer.photo-rgb-active.
            
            // M√âTODO M√ÅS SEGURO SEG√öN TU HTML:
            document.getElementById('photo-container').classList.add('photo-rgb-active');
            
            if(adminLink) adminLink.classList.add('rainbow-text');
        } else {
            document.getElementById('photo-container').classList.remove('photo-rgb-active');
            if(adminLink) adminLink.classList.remove('rainbow-text');
        }
    };

    window.updateFrameDesign = function(id) {
        currentFrameStyle = id;
        window.updateFrameState();
    };

    // ESTA FUNCI√ìN ES LA QUE CONECTA EL CLICK DEL SWITCH
    window.toggleFrameRGB = function() {
        window.updateFrameState();
    };
</script>
</body>
</html>